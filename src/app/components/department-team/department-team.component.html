<section class="department-team">
  <div class="row">
    <div class="col-8">
      <h2>Team <span class="badge badge-pill badge-primary">{{ team.length }}</span></h2>
    </div>

    <div class="col-4">
      <div class="float-right">
        <mat-form-field>
          <mat-label>Add Member</mat-label>
          <mat-select #userSelect [formControl]="departmentTeam" multiple
            [(value)]="selectedMembers"
            (selectionChange)="toggleSelection($event)">
            <button type="button" class="btn btn-block btn-success border-radius-0"
              (click)="openDialog()">
              <fa-icon [icon]="faUserPlus"></fa-icon>
              Create Member
            </button>
            <mat-option disabled [hidden]="userSelect.options.length > 1">
              No available member
            </mat-option>

            <mat-option *ngFor="let employee of (employees | unallocatedEmployees)"
              [value]="employee"
              disabled="!(!!selectedDept)">
              {{ employee.name }}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>
    </div>
  </div>

  <ul class="list-group">
    <li class="list-group-item d-flex align-items-center"
      *ngFor="let member of team">
      {{ member.name }}
      <span class="badge badge-secondary ml-2">{{ member.role }}</span>
      <div class="m-auto"></div>

      <button class="btn btn-sm btn-outline-success" disabled>
        {{ member.allocation | currency:'':'symbol':'0.0-2' }}</button>
      <button class="delete"><fa-icon [icon]="faTimes"></fa-icon></button>
    </li>
  </ul>
</section>
